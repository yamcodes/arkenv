---
title: Introduction
icon: Album
---

## What is this?

The ArkEnv plugin for Bun lets you validate environment variables at build-time and runtime with ArkEnv.

It supports **zero-config** usage for most projects, automatically discovering your schema from `./src/env.ts` or `./env.ts`.

## Usage

### Zero-Config (Recommended)

Add the plugin to your `bunfig.toml`. This works for both `bun run dev` and `bun run build`.

```toml title="bunfig.toml"
[serve.static]
plugins = ["@arkenv/bun-plugin"]
```

Create your schema in `src/env.ts` (or `env.ts`):

```ts title="src/env.ts"
import { type } from "arkenv";

export default type({
  BUN_PUBLIC_API_URL: "string",
  BUN_PUBLIC_DEBUG: "boolean",
});
```

### Manual Configuration

If you prefer explicit configuration or need to customize the schema location, you can use the plugin in your build script:

```ts title="build.ts"
import arkenv from "@arkenv/bun-plugin";
import { type } from "arkenv";

const env = type({
  BUN_PUBLIC_API_URL: "string",
  BUN_PUBLIC_DEBUG: "boolean",
});

await Bun.build({
  entrypoints: ["./app.tsx"],
  outdir: "./dist",
  plugins: [arkenv(env)],
});
```

### Zero-Config in Build Scripts

You can also use the zero-config pattern in build scripts by passing the plugin object directly:

```ts title="build.ts"
import arkenv from "@arkenv/bun-plugin";

await Bun.build({
  // ...
  plugins: [arkenv], // Auto-discovers src/env.ts
});
```

## Features

- **Static Analysis**: Automatically replaces `process.env.VARIABLE` with validated values during the build.
- **Type Safety**: Ensures your code only accesses variables defined in your schema.
- **Hot Reloading**: Automatically reloads your schema when `env.ts` changes (in `bun --hot` mode).
- **Secure Defaults**: Only exposes variables prefixed with `BUN_PUBLIC_` to the client bundle. You can customize this prefix by setting the `env` option in your `Bun.build()` configuration (e.g., `env: "MY_PUBLIC_*"` to use `MY_PUBLIC_` instead). See [Bun's bundler documentation](https://bun.sh/docs/bundler#env) for more details.

## Installation

```package-install
@arkenv/bun-plugin arkenv arktype
```
