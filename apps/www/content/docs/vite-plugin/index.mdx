---
title: Introduction
icon: Album
---

## What is this?

The ArkEnv plugin for Vite lets you validate environment variables at build-time with ArkEnv.

```ts title="vite.config.ts" twoslash
import arkenv from "@arkenv/vite-plugin";
import { defineConfig } from "vite";

export default defineConfig({
  plugins: [
    arkenv({
      PORT: "number.port",
      VITE_MY_VAR: "string",
    }),
  ],
});
```

With this setup, if any environment variable is missing or invalid, your dev server won't start and your production build will fail with an error:

```bash title="Terminal"
ArkEnvError: Errors found while validating environment variables
  VITE_MY_VAR must be a string (was missing)
  PORT must be an integer between 0 and 65535 (was "hello")
```

## Validator Mode

By default, ArkEnv uses ArkType for validation. However, you can use any Standard Schema compatible library (like Zod or Valibot) by setting the `validator` option to `"standard"`.

In this mode, you don't need to install `arktype`.

```ts title="vite.config.ts"
import { defineConfig } from "vite";
import arkenv from "@arkenv/vite-plugin";
import { z } from "zod";

export default defineConfig({
  plugins: [
    arkenv({
      VITE_API_URL: z.string().url(),
      VITE_API_KEY: z.string().min(1),
    }, {
      validator: "standard"
    }),
  ],
});
```

> [!IMPORTANT]
> By default, this plugin uses [ArkType](https://arktype.io) for validation.
>
> You can also use `validator: "standard"` if you prefer using Zod or Valibot directly without an ArkType dependency.
>
> See [Validator mode](/docs/arkenv/validator-mode) for details.

## Installation

```package-install
@arkenv/vite-plugin
```

If you intend to use the default validator mode, you should also install `arktype`:

```package-install
arktype
```

For some workflows (including [using ArkEnv in Vite config](/docs/vite-plugin/arkenv-in-viteconfig) and [typing import.meta.env](/docs/vite-plugin/typing-import-meta-env)), a dedicated `arkenv` installation is needed. See [ArkEnv quickstart](/docs/arkenv/quickstart) for more instructions.
